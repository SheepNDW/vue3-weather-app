(function(e){function t(t){for(var c,o,i=t[0],s=t[1],d=t[2],l=0,p=[];l<i.length;l++)o=i[l],Object.prototype.hasOwnProperty.call(r,o)&&r[o]&&p.push(r[o][0]),r[o]=0;for(c in s)Object.prototype.hasOwnProperty.call(s,c)&&(e[c]=s[c]);u&&u(t);while(p.length)p.shift()();return a.push.apply(a,d||[]),n()}function n(){for(var e,t=0;t<a.length;t++){for(var n=a[t],c=!0,i=1;i<n.length;i++){var s=n[i];0!==r[s]&&(c=!1)}c&&(a.splice(t--,1),e=o(o.s=n[0]))}return e}var c={},r={app:0},a=[];function o(t){if(c[t])return c[t].exports;var n=c[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,o),n.l=!0,n.exports}o.m=e,o.c=c,o.d=function(e,t,n){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},o.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var c in e)o.d(n,c,function(t){return e[t]}.bind(null,c));return n},o.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="/vue3-weather-app/";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],s=i.push.bind(i);i.push=t,i=i.slice();for(var d=0;d<i.length;d++)t(i[d]);var u=s;a.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"1be7":function(e,t,n){"use strict";n("fcf6")},"2d74":function(e,t,n){},"42c5":function(e,t,n){"use strict";n("6086")},"56d7":function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d");var c=n("7a23"),r=n("be92"),a={class:"container"};function o(e,t,n,r,o,i){var s=Object(c["resolveComponent"])("WeatherSide"),d=Object(c["resolveComponent"])("InfoSide"),u=Object(c["resolveComponent"])("LoadingPage");return Object(c["openBlock"])(),Object(c["createElementBlock"])(c["Fragment"],null,[Object(c["withDirectives"])(Object(c["createElementVNode"])("div",a,[Object(c["createVNode"])(s),Object(c["createVNode"])(d)],512),[[c["vShow"],!r.isLoading]]),Object(c["createVNode"])(u)],64)}n("a4d3"),n("e01a");var i=function(e){return Object(c["pushScopeId"])("data-v-af7cb340"),e=e(),Object(c["popScopeId"])(),e},s={class:"weather-side"},d=i((function(){return Object(c["createElementVNode"])("div",{class:"gradient"},null,-1)})),u={class:"date-container"},l=i((function(){return Object(c["createElementVNode"])("h2",null,"當前天氣",-1)})),p={class:"date"},b={class:"location"},f=i((function(){return Object(c["createElementVNode"])("i",{class:"material-icons-outlined"},"location_on",-1)})),m={class:"weather-container"},j=["src"],O={class:"weather-temp"},v={class:"weather-desc"};function h(e,t,n,r,a,o){return Object(c["openBlock"])(),Object(c["createElementBlock"])("div",s,[d,Object(c["createElementVNode"])("div",u,[l,Object(c["createElementVNode"])("span",p,Object(c["toDisplayString"])(r.dayjs.unix(r.currentWeather.dt).format("YYYY / MM / DD")),1),Object(c["createElementVNode"])("span",b,[f,Object(c["createElementVNode"])("p",null,Object(c["toDisplayString"])(r.cityName),1)])]),Object(c["createElementVNode"])("div",m,[Object(c["createElementVNode"])("img",{src:r.iconUrl,class:"icon",alt:"weather-icon"},null,8,j),Object(c["createElementVNode"])("div",O,Object(c["toDisplayString"])(Math.round(r.currentWeather.temp))+"°C",1),Object(c["createElementVNode"])("div",v,Object(c["toDisplayString"])(r.currentWeather.weather[0].description),1)])])}var g=n("5a0c"),y=n.n(g),w=n("1da1"),N=(n("96cf"),n("fb6a"),n("99af"),n("ade3")),E=(n("d3b7"),n("bc3a")),V=n.n(E);V.a.interceptors.response.use((function(e){return e.data}),(function(e){return Promise.reject(e)}));var k=function(e,t,n){return V()(Object(N["a"])({url:e,method:t},"get"===t.toLowerCase()?"params":"data",n))},S="".concat("cc1e229a91d9aaedf03e18b286972695"),x="https://api.openweathermap.org/geo/1.0/direct",I=function(e){return k("".concat(x,"?q=").concat(e,"&limit=2&appid=").concat(S),"get")},L="https://api.openweathermap.org/data/2.5/onecall",D="".concat("cc1e229a91d9aaedf03e18b286972695"),B="minutely,hourly,alerts",M=function(e){return k("".concat(L,"?lat=").concat(e.lat,"&lon=").concat(e.lon,"&exclude=").concat(B,"&lang=zh_tw&units=metric&appid=").concat(D),"get")},_=Object(r["b"])("statusStore",{state:function(){return{isLoading:!0,errMsg:""}}}),C=Object(r["b"])("weatherStore",{state:function(){return{coordinates:{city:"臺北市",lat:"25.0375198",lon:"121.5636796"},current:{dt:"",temp:"",weather:[{description:"",icon:"10d"}]},daily:[{dt:"",temp:{day:"",max:"",min:""},weather:[{description:"",icon:"10d"}]}],activeIndex:0}},getters:{weekList:function(e){return e.daily.length>5?e.daily.slice(0,5):[]}},actions:{searchCity:function(e){var t=this;return Object(w["a"])(regeneratorRuntime.mark((function n(){var c,r;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return c=_(),c.isLoading=!0,n.prev=2,n.next=5,I(e);case 5:r=n.sent,t.coordinates.lat=r[0].lat,t.coordinates.lon=r[0].lon,t.coordinates.city=r[0].local_names.zh,t.getWeather(),n.next=16;break;case 12:n.prev=12,n.t0=n["catch"](2),c.errMsg="無效的城市名 請重新輸入! ",setTimeout((function(){c.isLoading=!1,c.errMsg=""}),2500);case 16:case"end":return n.stop()}}),n,null,[[2,12]])})))()},getWeather:function(){var e=this;return Object(w["a"])(regeneratorRuntime.mark((function t(){var n,c,r,a,o,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,M(e.coordinates);case 2:n=t.sent,c=n.current,r=c.dt,a=c.temp,o=c.weather,e.current={dt:r,temp:a,weather:o},e.daily=n.daily,i=_(),i.isLoading=!1;case 8:case"end":return t.stop()}}),t)})))()}}}),W={name:"WeatherSide",setup:function(){var e=C(),t=Object(c["computed"])((function(){return"https://openweathermap.org/img/wn/".concat(e.current.weather[0].icon,"@4x.png")}));return{currentWeather:Object(c["computed"])((function(){return e.current})),cityName:Object(c["computed"])((function(){return e.coordinates.city})),iconUrl:t,dayjs:y.a}}},P=(n("42c5"),n("6b0d")),T=n.n(P);const R=T()(W,[["render",h],["__scopeId","data-v-af7cb340"]]);var Y=R,z={class:"info-side"};function U(e,t,n,r,a,o){var i=Object(c["resolveComponent"])("TodayInfo"),s=Object(c["resolveComponent"])("WeekList"),d=Object(c["resolveComponent"])("SearchBox");return Object(c["openBlock"])(),Object(c["createElementBlock"])("div",z,[Object(c["createVNode"])(i),Object(c["createVNode"])(s),Object(c["createVNode"])(d)])}var A=function(e){return Object(c["pushScopeId"])("data-v-09c60528"),e=e(),Object(c["popScopeId"])(),e},F={class:"today-info-container"},J={class:"today-info"},q={class:"info-box mb-1"},G=A((function(){return Object(c["createElementVNode"])("span",{class:"title"},"當日降雨率",-1)})),H={class:"value"},K={class:"info-box mb-1"},Q=A((function(){return Object(c["createElementVNode"])("span",{class:"title"},"當日最高溫",-1)})),X={class:"value"},Z={class:"info-box"},$=A((function(){return Object(c["createElementVNode"])("span",{class:"title"},"當日最低溫",-1)})),ee={class:"value"};function te(e,t,n,r,a,o){var i,s,d;return Object(c["openBlock"])(),Object(c["createElementBlock"])("div",F,[Object(c["createElementVNode"])("div",J,[Object(c["createElementVNode"])("div",q,[G,Object(c["createElementVNode"])("span",H,Object(c["toDisplayString"])(Math.floor(100*(null===(i=r.selectedDate)||void 0===i?void 0:i.pop)))+"%",1)]),Object(c["createElementVNode"])("div",K,[Q,Object(c["createElementVNode"])("span",X,Object(c["toDisplayString"])(Math.round(null===(s=r.selectedDate)||void 0===s?void 0:s.temp.max))+"°C",1)]),Object(c["createElementVNode"])("div",Z,[$,Object(c["createElementVNode"])("span",ee,Object(c["toDisplayString"])(Math.round(null===(d=r.selectedDate)||void 0===d?void 0:d.temp.min))+"°C",1)])])])}var ne={name:"TodayInfo",setup:function(){var e=C(),t=Object(c["computed"])((function(){return e.weekList[e.activeIndex]}));return{selectedDate:t}}};n("79c4");const ce=T()(ne,[["render",te],["__scopeId","data-v-09c60528"]]);var re=ce,ae={class:"week-container"},oe={class:"week-list"},ie=["onClick"],se=["src"],de={class:"day-name"},ue={class:"day-temp"};function le(e,t,n,r,a,o){return Object(c["openBlock"])(),Object(c["createElementBlock"])("div",ae,[Object(c["createElementVNode"])("ul",oe,[r.weekList?(Object(c["openBlock"])(!0),Object(c["createElementBlock"])(c["Fragment"],{key:0},Object(c["renderList"])(r.weekList,(function(e,t){return Object(c["openBlock"])(),Object(c["createElementBlock"])("li",{key:e.dt,class:Object(c["normalizeClass"])({active:r.activeIndex===t}),onClick:function(e){return r.activate(t)}},[Object(c["createElementVNode"])("img",{src:"https://openweathermap.org/img/wn/".concat(e.weather[0].icon,".png"),class:"icon",alt:"weather-icon"},null,8,se),Object(c["createElementVNode"])("span",de,Object(c["toDisplayString"])(r.dayjs.unix(e.dt).format("MM/DD")),1),Object(c["createElementVNode"])("span",ue,Object(c["toDisplayString"])(Math.round(e.temp.day))+"°C",1)],10,ie)})),128)):Object(c["createCommentVNode"])("",!0)])])}var pe={name:"WeekList",setup:function(){var e=C(),t=function(t){e.activeIndex=t};return{weekList:Object(c["computed"])((function(){return e.weekList})),activeIndex:Object(c["computed"])((function(){return e.activeIndex})),dayjs:y.a,activate:t}}};n("7853");const be=T()(pe,[["render",le],["__scopeId","data-v-4dfe9181"]]);var fe=be,me=(n("ac1f"),n("841c"),function(e){return Object(c["pushScopeId"])("data-v-3dc883c4"),e=e(),Object(c["popScopeId"])(),e}),je={class:"location-container"},Oe=me((function(){return Object(c["createElementVNode"])("span",null,"Search",-1)})),ve=[Oe];function he(e,t,n,r,a,o){return Object(c["openBlock"])(),Object(c["createElementBlock"])("div",je,[Object(c["withDirectives"])(Object(c["createElementVNode"])("input",{type:"text",placeholder:"City","onUpdate:modelValue":t[0]||(t[0]=function(e){return r.cityName=e})},null,512),[[c["vModelText"],r.cityName]]),Object(c["createElementVNode"])("button",{class:"location-button",type:"button",onClick:t[1]||(t[1]=function(e){return r.search(r.cityName)})},ve)])}var ge={name:"SearchBox",setup:function(){var e=Object(c["ref"])(""),t=C();return{cityName:e,search:t.searchCity}}};n("e5d5");const ye=T()(ge,[["render",he],["__scopeId","data-v-3dc883c4"]]);var we=ye,Ne={name:"InfoSide",components:{TodayInfo:re,WeekList:fe,SearchBox:we}};n("1be7");const Ee=T()(Ne,[["render",U],["__scopeId","data-v-4e2bd325"]]);var Ve=Ee,ke=function(e){return Object(c["pushScopeId"])("data-v-6cb0bfe2"),e=e(),Object(c["popScopeId"])(),e},Se={class:"loadingPage"},xe=ke((function(){return Object(c["createElementVNode"])("div",{class:"monster"},[Object(c["createElementVNode"])("div",{class:"eye"},[Object(c["createElementVNode"])("div",{class:"eyeBall"})]),Object(c["createElementVNode"])("div",{class:"mouth"})],-1)}));function Ie(e,t,n,r,a,o){return Object(c["withDirectives"])((Object(c["openBlock"])(),Object(c["createElementBlock"])("div",Se,[xe,Object(c["withDirectives"])(Object(c["createElementVNode"])("h2",null,"讀取中...",512),[[c["vShow"],!r.errMsg]]),Object(c["withDirectives"])(Object(c["createElementVNode"])("h2",null,Object(c["toDisplayString"])(r.errMsg),513),[[c["vShow"],r.errMsg]])],512)),[[c["vShow"],r.isLoading]])}var Le={name:"LoadingPage",setup:function(){var e=_();return{isLoading:Object(c["computed"])((function(){return e.isLoading})),errMsg:Object(c["computed"])((function(){return e.errMsg}))}}};n("7d6e");const De=T()(Le,[["render",Ie],["__scopeId","data-v-6cb0bfe2"]]);var Be=De,Me={name:"App",components:{WeatherSide:Y,InfoSide:Ve,LoadingPage:Be},setup:function(){var e=_(),t=C();return t.getWeather(),{isLoading:Object(c["computed"])((function(){return e.isLoading}))}}};const _e=T()(Me,[["render",o]]);var Ce=_e,We=(n("7dd0a"),Object(c["createApp"])(Ce));We.use(Object(r["a"])()),We.mount("#app")},6086:function(e,t,n){},6649:function(e,t,n){},7853:function(e,t,n){"use strict";n("6649")},"79c4":function(e,t,n){"use strict";n("2d74")},"7d6e":function(e,t,n){"use strict";n("e81d")},"7dd0a":function(e,t,n){},a377:function(e,t,n){},e5d5:function(e,t,n){"use strict";n("a377")},e81d:function(e,t,n){},fcf6:function(e,t,n){}});
//# sourceMappingURL=app.9db9c55e.js.map